<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Authorization entries | gfca </title>
  <meta name="csrf-token" content="{{ csrf_token() }}">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
  <meta content="Coderthemes" name="author" />
  <!-- App favicon -->
  <link rel="shortcut icon" href="/assets/images/gfca.png">

  <!-- third party css -->
  <link href="/assets/css/vendor/jquery-jvectormap-1.2.2.css" rel="stylesheet" type="text/css" />
  <link href="/assets/css/vendor/dataTables.bootstrap5.css" rel="stylesheet" type="text/css" />


  <!-- third party css end -->

  <!-- App css -->
  <link href="/assets/css/icons.min.css" rel="stylesheet" type="text/css" />
  <link href="/assets/css/app.min.css" rel="stylesheet" type="text/css" id="app-style" />

  <link href="/assets/css/mystyle.css" rel="stylesheet" type="text/css" />

  <style type="text/css">
    .btn-xxl {
      font-size: calc(2rem + 0.0012vw);
      padding: 0.8rem 1rem;
      width: 100%;
      height: 100%;
    }

   #table td {
      padding: 1px;
      font-size: 13px;
      font-family: "Courier New", Courier, monospace;
    }

    .btn.delete {
      border: none;
      padding: 0;
    }

    .btn.view {
      border: none;
      padding: 0;
    } 
  </style>
</head>

<body class="loading" data-layout-color="light" data-leftbar-theme="dark" data-layout-mode="fluid" data-rightbar-onstart="true">
  <!-- Begin page -->
  <div class="wrapper">
    <%- include('../../partials/admin-side'); -%>

    <!-- ============================================================== -->
    <!-- Start Page Content here -->
    <!-- ============================================================== -->

    <div class="content-page">
      <div class="content">
        <%- include('../../partials/admin-nav'); -%>

        <!-- Start Content-->
        <div class="row">
          <div class="col-12">
            <div class="page-title-box">
              <div class="page-title-right">
                <ol class="breadcrumb m-0">
                  <li class="breadcrumb-item"><a href="#">Dashboard</a></li>
                  <li class="breadcrumb-item active">Admin</li>
                </ol>
              </div>
              <h4 class="page-title">Authorization entries</h4>
            </div>
          </div>
        </div>
        <!-- end page title -->

        <div class="row">
          <div class="col-12">
            <div class="card">
              <div class="card-header" style="display: flex; justify-content: flex-end;">
                <button type="submit" id="submit" class="btn btn-info" style="margin-left: auto;">New</button>
              </div>
              <div class="card-body">
                <table id="table" class="table text-center nowrap w-100">
                  <thead>
                    <tr>
                      <th>Doc date</th>
                      <th>Doc rec</th>
                      <th>Affected period</th>
                      <th>Debit Account</th>
                      <th>Credit Account</th>
                      <th>Amount</th>
                      <th>Routed Type</th>
                      <th>Terminated Amount</th>
                      <th>Attachment</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>2022-07-05 </td>
                      <td>79566</td>
                      <td>2022-07-05 | 2022-07-15</td>
                      <td>GCB | 1001 </td>
                      <td>Ecobank | 4000</td>
                      <td>8,790</td>
                      <td>Airtel</td>
                      <td>8,790</td>
                      <td>
                        <button type="button" class="btn btn-sm btn-outline-info view"><i class="mdi mdi-eye"></i> View</button>
                      </td>
                    </tr>
                    <tr>
                      <td>2022-07-05 </td>
                      <td>79566</td>
                      <td>2022-07-05 | 2022-07-15</td>
                      <td>GCB | 1001 </td>
                      <td>Ecobank | 4000</td>
                      <td>8,790</td>
                      <td>Airtel</td>
                      <td>8,790</td>
                      <td>
                        <button type="button" class="btn btn-sm btn-outline-info view"><i class="mdi mdi-eye"></i> View</button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <div id="login-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-body">
                <div class="text-center mt-2 mb-4">
                  <a href="index.html" class="text-success">
                    <span><img src="assets/images/gfca.png" alt="" height="40"></span>
                  </a>
                </div>

                <form action="#" class="ps-3 pe-3">
                  <div class="mb-3">
                    <label for="chosen-date">Doc Date</label>
                    <input type="date" class="form-control" id="chosen-date" name="chosen-date">
                  </div>
                  <div class="mb-3">
                    <label for="chosen-date">Doc Rec</label>
                    <input type="text" class="form-control" id="number">
                  </div>
                  <div class="mb-3">
                    <div class="row">
                      <div class="col-md-6">
                        <label for="from-date">From</label>
                        <input type="date" class="form-control" id="from-date" name="from">
                      </div>
                      <div class="col-md-6">
                        <label for="to-date">To</label>
                        <input type="date" class="form-control" id="to-date" name="to">
                      </div>
                    </div>
                  </div>
                  <div class="mb-3">
                    <label for="chosen-date">Debit Account</label>
                    <div class="row">
                      <div class="col-md-6">
                        <label for="from-date">Select Bank</label>
                        <select class="form-control" id="" name="position-type">
                          <option value="">GCB</option>
                          <option value="">Ubsa</option>
                          <option value="">ecobank</option>
                        </select>
                      </div>
                      <div class="col-md-6">
                        <label for="to-date">Account Number</label>
                        <select class="form-control" id="" name="position-type">
                          <option value="">10200</option>
                          <option value="">20987</option>
                          <option value="">197236</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="mb-3">
                    <label for="chosen-date">Credit Account</label>
                    <div class="row">
                      <div class="col-md-6">
                        <label for="from-date">Select Bank</label>
                        <select class="form-control" id="" name="position-type">
                          <option value="">GCB</option>
                          <option value="">Ubsa</option>
                          <option value="">ecobank</option>
                        </select>
                      </div>
                      <div class="col-md-6">
                        <label for="to-date">Account Number</label>
                        <select class="form-control" id="" name="position-type">
                          <option value="">10200</option>
                          <option value="">20987</option>
                          <option value="">197236</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="mb-3">
                    <label for="chosen-date">Amount</label>
                    <input type="text" class="form-control" id="amount">
                  </div>
                  <div class="mb-3">
                    <label for="select-position">Routed type</label>
                    <select class="form-control" id="" name="position-type">
                      <option value="">airtel</option>
                      <option value="">vodaphone</option>
                      <option value="">mtn</option>
                      <option value="">compensation</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="file" class="form-label">Upload file</label>
                    <input class="form-control" type="file" accept=".csv" id="file" onchange="checkfile(this);">
                  </div>
                  <div class="mb-3 text-center">
                    <button class="btn rounded-pill btn-primary" type="submit">Submit</button>
                  </div>

                </form>

              </div>
            </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
        </div>

        <!-- container -->

      </div>
      <!-- content -->



      <%- include('../../partials/footer'); -%>

    </div>

    <!-- ============================================================== -->
    <!-- End Page content -->
    <!-- ============================================================== -->

  </div>
  <!-- END wrapper -->


  <%- include('../../partials/admin-layout'); -%>
  <script type="text/javascript">
    let $objects = {};

    function checkfile(sender) {
      var validExts = new Array(".csv");
      var fileExt = sender.value;
      fileExt = fileExt.substring(fileExt.lastIndexOf('.'));
      if (validExts.indexOf(fileExt) < 0) {
        Swal.fire({
          title: 'Invalid file selected, valid files are of ' + validExts.toString() + " types.",
          icon: "error"
        });
        return false;
      } else return true;
    }

    $(() => {
      $objects['table'] = $('#table');

      $objects['table'].DataTable();
      let selectedRow = null;
      let datatable = null;

      datatable = $objects['table']
        .on('click', '.delete', function(e) {
          selectedRow = $(this).closest('tr');
          Swal.fire({
            title: 'Do you want to delete this head ?',
            icon: 'question',
            showCancelButton: true,
            confirmButtonText: 'Delete',
          }).then(result => {
            if (result.isConfirmed)
              selectedRow.remove();
          });
        })
        .DataTable({
        'processing': true,
        'serverSide': true,
        'columns': [{
            'data': 'id'
          },
          {
            'data': 'name'
          },
          {
            'data': 'created_at'
          },
          {
            'data': 'actions',
            'orderable': false
          }
        ],
        'order': [0, 'asc'],
        'ajax': {
          'url': '/tbalList',
          'type': 'POST',
          'dataType': 'json',
          'data': d => {},
          'error': data => {
            console.log(data);
          }
        },
        'pageLength': 25,
        'autoWidth': false
      });
    });

  $('#submit').on('click', function() {
    window.location.href = '/authz_entry/new_authz';
});
  </script>

</body>

</html>